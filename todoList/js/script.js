let formInput=document.querySelector('input[type="text"]'),formBtn=document.querySelector('input[type="submit"]'),list=document.querySelector(".toDoList"),todoList=[];localStorage.getItem("todo")&&(todoList=JSON.parse(localStorage.getItem("todo")),displayMessages()),formBtn.addEventListener("click",function(){if(""==formInput.value)return void alert("Wrtite smthng");let t={todo:formInput.value,checked:!1,important:!1};todoList.push(t),displayMessages();let e=document.querySelectorAll(".delete");for(let t=0;t<e.length;t++)todoList[t].id=e[t].getAttribute("id").slice(7);localStorage.setItem("todo",JSON.stringify(todoList))}),list.addEventListener("change",makeDoneMessage),importantBtn=document.querySelectorAll(".important"),importantBtn.forEach(t=>{t.addEventListener("click",makeImportantMessage)});let deleteItemBtn=document.querySelectorAll(".delete");deleteItemBtn.forEach(t=>{t.addEventListener("click",deleteMessage)});let formSubmit=document.querySelector(".form__submit"),formInputBx=document.querySelector("form__input");function displayMessages(){let t="";todoList.forEach(function(e,o){t+=`\n    <li>\n      <input type='checkbox' id='item_${o}' ${e.checked?"checked":""}>\n      <label for='item_${o}' class="item_${o}">${e.todo}</label>\n      <button id='important_${o}' class='important'>!</button>\n      <button id='delete_${o}' class="delete">X</button>\n    </li>\n    `,list.innerHTML=t})}function makeDoneMessage(t){let e=t.target.getAttribute("id"),o=list.querySelector("[for="+e+"]"),i=o.innerHTML;todoList.forEach(function(t){t.todo===i&&(t.checked=!t.checked,1==t.checked?o.style.textDecoration="line-through":o.style.textDecoration="none",localStorage.setItem("todo",JSON.stringify(todoList)))})}function makeImportantMessage(t){let e=t.target.getAttribute("id").slice(10),o=t.target.parentNode;todoList.forEach(function(t,i){i==e&&(t.important=!t.important,t.important?o.style.color="red":o.style.color="black",localStorage.setItem("todo",JSON.stringify(todoList)))})}function deleteMessage(t){let e=t.target.getAttribute("id").slice(7),o=t.target.parentNode;todoList.forEach(function(t,i){t.id==e&&(o.remove(),todoList.splice(i,1),localStorage.setItem("todo",JSON.stringify(todoList)))})}